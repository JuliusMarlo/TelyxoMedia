<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TelyxoMedia</title>
    <style>
        /* Reset margin & padding */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
        }

        /* Header */
        header {
    background-color: #626F78;
    color: white;
    padding: 15px 20px;

    display: flex;
    justify-content: space-between;
    align-items: center;
}

.left-header {
    display: flex;
    align-items: center;
    gap: 10px;
}

.logo {
    width: 50px;
    height: 50px;
    object-fit: contain;
    border-radius: 5px; 
}

.header-text {
    display: flex;
    flex-direction: column;
}

.header-text h1,
.header-text h2 {
    margin: 0;
}

.header-text h1 {
    font-size: 15px;
    font-weight: bold;
}

.header-text h2 {
    font-size: 10px;
    font-weight: 400;
}

        /* Footer */
        footer {
            background-color: #626F78;
            color: white;
            text-align: center;
            padding: 15px 20px;
            position: fixed;
            bottom: 0;
            width: 100%;
        }
        
        /* Harga Crypto */
.crypto-prices {
  padding: 20px;
}

.price-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 16px;
  margin-top: 16px;
}

.price-card {
  background: #ffffff;
  border-radius: 8px;
  padding: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  display: flex;
  flex-direction: column;
  align-items: center;
}

.price-card .coin-name {
  font-weight: 600;
  margin-bottom: 8px;
}

.price-card .coin-price {
  font-size: 1.4em;
  font-weight: bold;
  margin-bottom: 6px;
}

.price-card .coin-change {
  font-size: 0.9em;
}

/* Warna naik/turun */
.price-card .coin-change.up { color: #138000; }
.price-card .coin-change.down { color: #c62828; }

/* Berita Crypto */
.crypto-news {
  padding: 20px;
}

.news-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 18px;
  margin-top: 16px;
}

.news-card {
  background: #ffffff;
  border-radius: 8px;
  padding: 14px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.news-card h3 {
  font-size: 1.1em;
  margin-bottom: 8px;
}

.news-card p {
  font-size: 0.95em;
  color: #444;
}

.news-card .news-meta {
  margin-top: 12px;
  font-size: 0.8em;
  color: #666;
}
        
    </style>
</head>
<body>

    <header>
    <div class="left-header">
        <img src="Web-bg.png" alt="Logo" class="logo">
        <div class="header-text">
            <h1>TelyxoMedia</h1>
            <h2>Berita Bitcoin & Crypto</h2>
        </div>
    </div>

<!-- Bagian Harga Crypto -->
<section class="crypto-prices">
  <h2>Harga Crypto Real-Time</h2>
  <div id="priceContainer" class="price-grid">
    <!-- Card harga akan di-render di sini via JS -->
  </div>
</section>

<!-- Bagian Berita Crypto -->
<section class="crypto-news">
  <h2>Berita & Update Crypto</h2>
  <div id="newsContainer" class="news-grid">
    <!-- Card berita akan di-render di sini via JS -->
  </div>
</section>

    <footer>
        &copy; 2025 Web Berita. All rights reserved.
    </footer>
    
    <script>
    // Daftar koin (gunakan ID dari CoinGecko)
const COINS = [
  { id: 'bitcoin', symbol: 'BTC' },
  { id: 'ethereum', symbol: 'ETH' },
  { id: 'solana', symbol: 'SOL' },
  { id: 'binancecoin', symbol: 'BNB' }
];

// Fungsi format mata uang USD
function formatUSD(num) {
  return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' })
    .format(num);
}

// Membuat struktur card harga di DOM
function initPriceCards() {
  const container = document.getElementById('priceContainer');
  container.innerHTML = '';
  COINS.forEach(coin => {
    const card = document.createElement('div');
    card.className = 'price-card';
    card.id = `price-${coin.id}`;
    card.innerHTML = `
      <div class="coin-name">${coin.symbol}</div>
      <div class="coin-price">Loading...</div>
      <div class="coin-change">–</div>
    `;
    container.appendChild(card);
  });
}

// Fetch harga dari CoinGecko
async function fetchPrices() {
  try {
    const ids = COINS.map(c => c.id).join(',');
    const url = `https://api.coingecko.com/api/v3/simple/price?ids=${ids}&vs_currencies=usd&include_24hr_change=true`;
    const resp = await fetch(url);
    const data = await resp.json();
    COINS.forEach(coin => {
      const price = data[coin.id]?.usd;
      const change = data[coin.id]?.usd_24h_change;
      const card = document.getElementById(`price-${coin.id}`);
      if (card) {
        card.querySelector('.coin-price').innerText = price !== undefined
          ? formatUSD(price)
          : '–';
        if (change !== undefined) {
          const changeNode = card.querySelector('.coin-change');
          const sign = change >= 0 ? '+' : '';
          changeNode.innerText = `${sign}${change.toFixed(2)}%`;
          changeNode.className = 'coin-change ' + (change >= 0 ? 'up' : 'down');
        }
      }
    });
  } catch (err) {
    console.error('Error fetchPrices:', err);
  }
}

// Fetch berita / status update dari CoinGecko
async function fetchNews(limit = 3) {
  try {
    const url = `https://api.coingecko.com/api/v3/status_updates?per_page=${limit}`;
    const resp = await fetch(url);
    const data = await resp.json();
    const updates = data.status_updates || [];
    renderNews(updates.slice(0, limit));
  } catch (err) {
    console.error('Error fetchNews:', err);
  }
}

// Render card berita ke DOM
function renderNews(updates) {
  const container = document.getElementById('newsContainer');
  container.innerHTML = '';
  updates.forEach(u => {
    const card = document.createElement('div');
    card.className = 'news-card';
    const title = u.title || '(no title)';
    const desc = u.description || '';
    const time = u.created_at ? new Date(u.created_at).toLocaleString() : '';
    card.innerHTML = `
      <h3>${title}</h3>
      <p>${desc}</p>
      <div class="news-meta">${time}</div>
    `;
    container.appendChild(card);
  });
}

// Inisialisasi & loop update
initPriceCards();
fetchPrices();
fetchNews(3);

// Update berkala
setInterval(fetchPrices, 15000);  // 15 detik
setInterval(() => fetchNews(3), 60000);  // 60 detik
</script>

</body>
</html>
